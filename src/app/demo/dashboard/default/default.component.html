<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<div class="row">
  <div class="col-xl-4 col-md-6">
    <div class="card earning-card bg-secondary-dark text-white overflow-hidden">
      <span class="round secondary-round small"></span>
      <span class="round secondary-round big"></span>
      <div class="card-body">
        <div class="row">
          <div class="col">
            <div class="avatar avatar-lg">
              <i class="text-white ti ti-credit-card f-24"></i>
            </div>
          </div>
          <div class="col-auto">
            <div class="btn-group" ngbDropdown>
              <a type="button" class="avatar avatar-xs bg-secondary dropdown-toggle arrow-none" ngbDropdownToggle>
                <i class="ti ti-dots"></i>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
                <li><button class="dropdown-item" type="button">Import Card</button></li>
                <li><button class="dropdown-item" type="button">Export</button></li>
              </ul>
            </div>
          </div>
        </div>
        <span class="text-white d-block f-34 f-w-500 my-2">
          $500.00
          <i class="ti ti-circle-arrow-up-right opacity-50"></i>
        </span>
        <p class="mb-0 opacity-50">Total Earning</p>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-6">
    <div class="card earning-card bg-primary-dark text-white overflow-hidden">
      <span class="round primary-round small"></span>
      <span class="round primary-round big"></span>
      <div class="card-body">
        <app-chart-data-month />
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-12">
    <div class="card total-income-card overflow-hidden bg-primary-dark text-white">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="avatar avatar-lg icon m-r-5">
            <i class="text-white ti ti-layout-board-split f-24"></i>
          </div>
          <div class="ms-2">
            <h4 class="text-white f-w-600 mb-1">$203k</h4>
            <p class="mb-0 opacity-50 text-sm">Total Income</p>
          </div>
        </div>
      </div>
    </div>




    <div class="card total-income-card warning overflow-hidden">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="avatar avatar-lg icon-warning m-r-5">
            <i class="text-warning ti ti-layout-board-split f-24"></i>
          </div>
          <div class="ms-2">
            <h4 class="f-w-600 mb-1">$203k</h4>
            <p class="mb-0 opacity-50 text-sm">Total Income</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-8 col-md-12">
    <app-bar-chart />
  </div>
  <div class="col-xl-4 col-md-12">
    <div class="card">
      <div class="card-body">
        <div class="row mb-3 align-items-center">
          <div class="col">
            <h4>Popular Stocks</h4>
          </div>
          <div class="col-auto"></div>
        </div>
        <div class="rounded bg-light-secondary overflow-hidden mb-3">
          <div class="px-3 pt-3">
            <div class="row mb-1 align-items-start">
              <div class="col">
                <h5 class="text-secondary mb-0">Bajaj Finery</h5>
                <small class="text-muted">10% Profit</small>
              </div>
              <div class="col-auto">
                <h4 class="mb-0">$1839.00</h4>
              </div>
            </div>
          </div>
          <app-bajaj-chart />
        </div>
        <ul class="list-group list-group-flush">
          @for (list of ListGroup; track list) {
            <li class="list-group-item px-0 {{ list.space }}">
              <div class="row align-items-start">
                <div class="col">
                  <h5 class="mb-0">{{ list.name }}</h5>
                  <small class="{{ list.color }}">{{ list.profit }}</small>
                </div>
                <div class="col-auto">
                  <h4 class="mb-0">
                    {{ list.invest }}
                    <span class="ms-2 align-top avatar avatar-xxs {{ list.bgColor }}">
                      <i class="{{ list.icon }} {{ list.color }}"></i>
                    </span>
                  </h4>
                </div>
              </div>
            </li>
          }
        </ul>
        <div class="text-center">
          <a href="javascript:" class="b-b-primary text-primary f-w-500">
            View all
            <i class="ti ti-chevron-right"></i>
          </a>

        </div>
      </div>
    </div>
  </div>

  <!-- example.component.html -->
<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary">	ðŸŽ¯ Check our objectives </h2>
    <button type="button" class="btn btn-outline-info" (click)="openAddObjectivePopup()">
      <i class="bi bi-plus-circle me-2"></i>
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-hover table-bordered align-middle shadow-sm rounded">
      <thead class="table-light text-center">
        <tr>

          <th>Titre</th>
          <th>Description</th>
          <th>Statut</th>
          <th>Score</th>
          <th>Progression</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody class="text-center">
  <!-- Cas oÃ¹ la liste est vide -->
  <tr *ngIf="ObjectivesList.length === 0">
    <td colspan="6" class="text-muted fw-bold py-4">
      <i class="bi bi-exclamation-circle me-2"></i>No Objective found.
    </td>
  </tr>
      <tbody class="text-center">
        <tr *ngFor="let objective of ObjectivesList | paginate: { itemsPerPage: 4, currentPage: p }">

          <td class="fw-bold text-start">{{ objective.objectiveTitle }}</td>
          <td class="text-start">{{ objective.objectiveDescription }}</td>
          <td>
          <span class="badge text-white"
      [ngClass]="{
        'bg-warning': objective.objectiveStatus === 'UNREACHED',
        'bg-primary': objective.objectiveStatus === 'INPROGRESS',
        'bg-success': objective.objectiveStatus === 'REACHED',
        'bg-secondary': !['REACHED', 'INPROGRESS', 'UNREACHED'].includes(objective.objectiveStatus)
      }">
  {{ objective.objectiveStatus }}
</span>
          </td>
          <td>{{ objective.objectiveScore }}</td>
          <td>
            <div class="progress" style="height: 20px;">
              <div class="progress-bar bg-success" role="progressbar"
                  [style.width.%]="objective.objectiveProgress"
                  [attr.aria-valuenow]="objective.objectiveProgress"
                  aria-valuemin="0" aria-valuemax="100">
                {{ objective.objectiveProgress }}%
              </div>
            </div>
          </td>
          <td>
            <button class="btn btn-outline-danger btn-sm me-1" (click)="DeleteObjective(objective)">
              <i class="bi bi-trash3"></i>
            </button>
            <button class="btn btn-outline-primary btn-sm" (click)="openUpdateObjectivePopup(objective)">
              <i class="bi bi-pencil-square"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <pagination-controls class="myPagination" (pageChange)="p = $event"></pagination-controls>
  </div>
</div>




  <!-- Form Update Objective Popu-up -->

<div class="popup_overlay" *ngIf="UpdateObjectivePopup">
  <form class="form_container">
    <div class="title_container">
      <p class="title">Keep your team updated with this update!</p>
    </div>

    <div class="input_container">
      <label class="input_label" for="title_field">Title</label>
      <input placeholder="Title" type="text" class="input_field" id="title_field" [(ngModel)]="Objective.objectiveTitle" name="title" />
    </div>

    <div class="input_container">
      <label class="input_label" for="description_field">Description</label>
      <input placeholder="Description" type="text" class="input_field" id="description_field" [(ngModel)]="Objective.objectiveDescription" name="description" />
    </div>

    <div class="input_container">
      <label class="input_label" for="status_field">Status</label>
      <select class="input_field" id="status_field" [(ngModel)]="Objective.objectiveStatus" name="status">
        <option value="UNREACHED">UnReached</option>
        <option value="INPROGRESS">In Progress</option>
        <option value="REACHED">Reached</option>
      </select>
    </div>

    <div class="input_container">
      <label class="input_label" for="score_field">Score</label>
      <input placeholder="Score" type="number" class="input_field" id="score_field" [(ngModel)]="Objective.objectiveScore" name="score" />
    </div>

    <div class="input_container">
      <label class="input_label" for="progress_field">Progress</label>
      <input placeholder="Progress" type="number" class="input_field" id="progress_field" [(ngModel)]="Objective.objectiveProgress" name="progress" />
    </div>

    <button type="submit" class="sign-in_btn" (click)="UpdateObjective(Objective)">Update</button>

    <button type="submit" class="sign-in_apl" (click)="closeUpdateObjectivePopup()">Close</button>

    <div class="separator">
      <hr class="line" />
      <hr class="line" />
    </div>

    <p class="note">Terms of use & Conditions</p>
  </form>
</div>
<!-- end of Update Objective popup-form -->


<!-- Form Add Objective Popu-up -->
<div class="popup_overlay" *ngIf="AddObjectivePopup">
  <form class="form_container">
    <div class="title_container">
      <p class="title">âž• Keep your team updated with a new objective!</p>
    </div>

    <div class="input_container">
      <label class="input_label" for="title_field">Title</label>
      <input placeholder="Title" type="text" class="input_field" id="title_field" [(ngModel)]="Objective.objectiveTitle" name="title" />
    </div>

    <div class="input_container">
      <label class="input_label" for="description_field">Description</label>
      <input placeholder="Description" type="text" class="input_field" id="description_field" [(ngModel)]="Objective.objectiveDescription" name="description" />
    </div>

    <div class="input_container">
      <label class="input_label" for="status_field">Status</label>
      <select class="input_field" id="status_field" [(ngModel)]="Objective.objectiveStatus" name="status">
        <option value="UNREACHED">UnReached</option>
        <option value="INPROGRESS">In Progress</option>
        <option value="REACHED">Reached</option>
      </select>
    </div>

    <div class="input_container">
      <label class="input_label" for="score_field">Score</label>
      <input placeholder="Score" type="number" class="input_field" id="score_field" [(ngModel)]="Objective.objectiveScore" name="score" />
    </div>

    <div class="input_container">
      <label class="input_label" for="progress_field">Progress</label>
      <input placeholder="Progress" type="number" class="input_field" id="progress_field" [(ngModel)]="Objective.objectiveProgress" name="progress" />
    </div>

    <button type="submit" class="sign-in_btn" (click)="AddObjective(Objective)">Add</button>

    <button type="submit" class="sign-in_apl" (click)="closeAddObjectivePopup()">Close</button>

    <div class="separator">
      <hr class="line" />
      <hr class="line" />
    </div>

    <p class="note">Terms of use & Conditions</p>
  </form>
</div>
<!-- end of Add Objective popup-form -->

